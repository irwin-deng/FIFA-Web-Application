{"ast":null,"code":"import _classCallCheck from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Form,FormInput,FormGroup,Button,Card,CardBody,CardTitle,Progress}from\"shards-react\";import{Table,Row,Col,Divider}from'antd';import{getMatchSearch,getMatch}from'../fetcher';import MenuBar from'../components/MenuBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Column=Table.Column,ColumnGroup=Table.ColumnGroup;var MatchesPage=/*#__PURE__*/function(_React$Component){_inherits(MatchesPage,_React$Component);var _super=_createSuper(MatchesPage);function MatchesPage(props){var _this;_classCallCheck(this,MatchesPage);_this=_super.call(this,props);_this.state={awayQuery:\"\",homeQuery:\"\",matchesResults:[],selectedMatchId:window.location.search?window.location.search.substring(1).split('=')[1]:0,selectedMatchDetails:null};_this.handleAwayQueryChange=_this.handleAwayQueryChange.bind(_assertThisInitialized(_this));_this.handleHomeQueryChange=_this.handleHomeQueryChange.bind(_assertThisInitialized(_this));_this.updateSearchResults=_this.updateSearchResults.bind(_assertThisInitialized(_this));_this.goToMatch=_this.goToMatch.bind(_assertThisInitialized(_this));return _this;}_createClass(MatchesPage,[{key:\"handleAwayQueryChange\",value:function handleAwayQueryChange(event){this.setState({awayQuery:event.target.value});}},{key:\"handleHomeQueryChange\",value:function handleHomeQueryChange(event){this.setState({homeQuery:event.target.value});}},{key:\"goToMatch\",value:function goToMatch(matchId){window.location=\"/matches?id=\".concat(matchId);}},{key:\"updateSearchResults\",value:function updateSearchResults(){var _this2=this;getMatchSearch(this.state.homeQuery,this.state.awayQuery,null,null).then(function(res){_this2.setState({matchesResults:res.results});});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;getMatchSearch(this.state.homeQuery,this.state.awayQuery,null,null).then(function(res){_this3.setState({matchesResults:res.results});});getMatch(this.state.selectedMatchId).then(function(res){_this3.setState({selectedMatchDetails:res.results[0]});});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MenuBar,{}),/*#__PURE__*/_jsx(Form,{style:{width:'80vw',margin:'0 auto',marginTop:'5vh'},children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsxs(FormGroup,{style:{width:'20vw',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Home Team\"}),/*#__PURE__*/_jsx(FormInput,{placeholder:\"Home Team\",value:this.state.homeQuery,onChange:this.handleHomeQueryChange})]})}),/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsxs(FormGroup,{style:{width:'20vw',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Away Team\"}),/*#__PURE__*/_jsx(FormInput,{placeholder:\"Away Team\",value:this.state.awayQuery,onChange:this.handleAwayQueryChange})]})}),/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsx(FormGroup,{style:{width:'10vw'},children:/*#__PURE__*/_jsx(Button,{style:{marginTop:'4vh'},onClick:this.updateSearchResults,children:\"Search\"})})})]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'70vw',margin:'0 auto',marginTop:'2vh'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Matches\"}),/*#__PURE__*/_jsxs(Table,{onRow:function onRow(record,rowIndex){return{onClick:function onClick(event){_this4.goToMatch(record.MatchId);}// clicking a row takes the user to a detailed view of the match in the /matches page using the MatchId parameter  \n};},dataSource:this.state.matchesResults,pagination:{pageSizeOptions:[5,10],defaultPageSize:5,showQuickJumper:true},children:[/*#__PURE__*/_jsxs(ColumnGroup,{title:\"Teams\",children:[/*#__PURE__*/_jsx(Column,{title:\"Home\",dataIndex:\"Home\",sorter:function sorter(a,b){return a.Home.localeCompare(b.Home);}},\"Home\"),/*#__PURE__*/_jsx(Column,{title:\"Away\",dataIndex:\"Away\",sorter:function sorter(a,b){return a.Away.localeCompare(b.Away);}},\"Away\")]}),/*#__PURE__*/_jsxs(ColumnGroup,{title:\"Goals\",children:[/*#__PURE__*/_jsx(Column,{title:\"Home Goals\",dataIndex:\"HomeGoals\",sorter:function sorter(a,b){return a.FullTimeGoalsH.localeCompare(b.FullTimeGoalsH);}},\"HomeGoals\"),/*#__PURE__*/_jsx(Column,{title:\"Away Goals\",dataIndex:\"AwayGoals\",sorter:function sorter(a,b){return a.FullTimeGoalsA.localeCompare(b.FullTimeGoalsA);}},\"AwayGoals\")]}),/*#__PURE__*/_jsx(Column,{title:\"Date\",dataIndex:\"Date\"},\"Date\"),/*#__PURE__*/_jsx(Column,{title:\"Time\",dataIndex:\"Time\"},\"Time\")]})]}),/*#__PURE__*/_jsx(Divider,{}),this.state.selectedMatchDetails?/*#__PURE__*/_jsx(\"div\",{style:{width:'70vw',margin:'0 auto',marginTop:'2vh'},children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{flex:2,style:{textAlign:'left'},children:/*#__PURE__*/_jsx(CardTitle,{children:this.state.selectedMatchDetails.Home})}),/*#__PURE__*/_jsxs(Col,{flex:2,style:{textAlign:'center'},children:[this.state.selectedMatchDetails.Date,\" at \",this.state.selectedMatchDetails.Time]}),/*#__PURE__*/_jsx(Col,{flex:2,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(CardTitle,{children:this.state.selectedMatchDetails.Away})})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'left'},children:/*#__PURE__*/_jsx(\"h3\",{children:this.state.selectedMatchDetails.HomeGoals})}),/*#__PURE__*/_jsx(Col,{span:6,style:{textAlign:'center'},children:\"Goals\"}),/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"h3\",{children:this.state.selectedMatchDetails.AwayGoals})})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'left'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.HTHomeGoals})}),/*#__PURE__*/_jsx(Col,{span:6,style:{textAlign:'center'},children:\"Goals at Half Time\"}),/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.HTAwayGoals})})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'left'},children:/*#__PURE__*/_jsxs(Progress,{value:this.state.selectedMatchDetails.ShotsOnTargetHome*100/this.state.selectedMatchDetails.ShotsHome,children:[this.state.selectedMatchDetails.ShotsOnTargetHome,\" / \",this.state.selectedMatchDetails.ShotsHome]})}),/*#__PURE__*/_jsx(Col,{span:6,style:{textAlign:'center'},children:\"Shot Accuracy\"}),/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'right'},children:/*#__PURE__*/_jsxs(Progress,{value:this.state.selectedMatchDetails.ShotsOnTargetAway*100/this.state.selectedMatchDetails.ShotsAway,children:[this.state.selectedMatchDetails.ShotsOnTargetAway,\" / \",this.state.selectedMatchDetails.ShotsAway]})})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'left'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.CornersHome})}),/*#__PURE__*/_jsx(Col,{span:6,style:{textAlign:'center'},children:\"Corners\"}),/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.CornersAway})})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'left'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.FoulsHome})}),/*#__PURE__*/_jsx(Col,{span:6,style:{textAlign:'center'},children:\"Fouls Cards\"}),/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.FoulsAway})})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'left'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.RCHome})}),/*#__PURE__*/_jsx(Col,{span:6,style:{textAlign:'center'},children:\"Red Cards\"}),/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.RCAway})})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'left'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.YCHome})}),/*#__PURE__*/_jsx(Col,{span:6,style:{textAlign:'center'},children:\"Yellow Cards\"}),/*#__PURE__*/_jsx(Col,{span:9,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedMatchDetails.YCAway})})]})]})})}):null,/*#__PURE__*/_jsx(Divider,{})]});}}]);return MatchesPage;}(React.Component);export default MatchesPage;","map":null,"metadata":{},"sourceType":"module"}