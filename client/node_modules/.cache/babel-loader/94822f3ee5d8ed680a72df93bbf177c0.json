{"ast":null,"code":"import _classCallCheck from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Form,FormInput,FormGroup,Button,Card,CardBody,Progress}from\"shards-react\";import{Table,Row,Col,Divider,Slider,Rate}from'antd';import{RadarChart}from'react-vis';import{format}from'd3-format';import MenuBar from'../components/MenuBar';import{getPlayerSearch,getPlayer}from'../fetcher';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var wideFormat=format('.3r');var playerColumns=[{title:'Name',dataIndex:'Name',key:'Name',sorter:function sorter(a,b){return a.Name.localeCompare(b.Name);},render:function render(text,row){return/*#__PURE__*/_jsx(\"a\",{href:\"/players?id=\".concat(row.PlayerId),children:text});}},{title:'Nationality',dataIndex:'Nationality',key:'Nationality',sorter:function sorter(a,b){return a.Nationality.localeCompare(b.Nationality);}},{title:'Rating',dataIndex:'Rating',key:'Rating',sorter:function sorter(a,b){return a.Rating-b.Rating;}},{title:'Potential',dataIndex:'Potential',key:'Potential',sorter:function sorter(a,b){return a.Potential-b.Potential;}},{title:'Club',dataIndex:'Club',key:'Club',sorter:function sorter(a,b){return a.Club.localeCompare(b.Club);}},{title:'Value',dataIndex:'Value',key:'Value'}];var PlayersPage=/*#__PURE__*/function(_React$Component){_inherits(PlayersPage,_React$Component);var _super=_createSuper(PlayersPage);function PlayersPage(props){var _this;_classCallCheck(this,PlayersPage);_this=_super.call(this,props);// Default values in user input form\n_this.state={nameQuery:'',nationalityQuery:'',clubQuery:'',ratingHighQuery:100,ratingLowQuery:0,potHighQuery:100,potLowQuery:0,selectedPlayerId:window.location.search?window.location.search.substring(1).split('=')[1]:229594,selectedPlayerDetails:null,playersResults:[]};_this.updateSearchResults=_this.updateSearchResults.bind(_assertThisInitialized(_this));_this.handleNameQueryChange=_this.handleNameQueryChange.bind(_assertThisInitialized(_this));_this.handleNationalityQueryChange=_this.handleNationalityQueryChange.bind(_assertThisInitialized(_this));_this.handleClubQueryChange=_this.handleClubQueryChange.bind(_assertThisInitialized(_this));_this.handleRatingChange=_this.handleRatingChange.bind(_assertThisInitialized(_this));_this.handlePotentialChange=_this.handlePotentialChange.bind(_assertThisInitialized(_this));return _this;}// Handlers for user inputs\n_createClass(PlayersPage,[{key:\"handleNameQueryChange\",value:function handleNameQueryChange(event){this.setState({nameQuery:event.target.value});}},{key:\"handleClubQueryChange\",value:function handleClubQueryChange(event){this.setState({clubQuery:event.target.value});}},{key:\"handleNationalityQueryChange\",value:function handleNationalityQueryChange(event){this.setState({nationalityQuery:event.target.value});}},{key:\"handleRatingChange\",value:function handleRatingChange(value){this.setState({ratingLowQuery:value[0]});this.setState({ratingHighQuery:value[1]});}},{key:\"handlePotentialChange\",value:function handlePotentialChange(value){this.setState({potLowQuery:value[0]});this.setState({potHighQuery:value[1]});}},{key:\"updateSearchResults\",value:function updateSearchResults(){var _this2=this;getPlayerSearch(this.state.nameQuery,this.state.nationalityQuery,this.state.clubQuery,this.state.ratingHighQuery,this.state.ratingLowQuery,this.state.potHighQuery,this.state.potLowQuery,null,null).then(function(res){_this2.setState({playersResults:res.results});});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;getPlayerSearch(this.state.nameQuery,this.state.nationalityQuery,this.state.clubQuery,this.state.ratingHighQuery,this.state.ratingLowQuery,this.state.potHighQuery,this.state.potLowQuery,null,null).then(function(res){_this3.setState({playersResults:res.results});});getPlayer(this.state.selectedPlayerId).then(function(res){_this3.setState({selectedPlayerDetails:res.results[0]});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MenuBar,{}),/*#__PURE__*/_jsxs(Form,{style:{width:'80vw',margin:'0 auto',marginTop:'5vh'},children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsxs(FormGroup,{style:{width:'20vw',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(FormInput,{placeholder:\"Name\",value:this.state.nameQuery,onChange:this.handleNameQueryChange})]})}),/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsxs(FormGroup,{style:{width:'20vw',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nationality\"}),/*#__PURE__*/_jsx(FormInput,{placeholder:\"Nationality\",value:this.state.nationalityQuery,onChange:this.handleNationalityQueryChange})]})}),/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsxs(FormGroup,{style:{width:'20vw',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nationality\"}),/*#__PURE__*/_jsx(FormInput,{placeholder:\"Club\",value:this.state.clubQuery,onChange:this.handleClubQueryChange})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsxs(FormGroup,{style:{width:'20vw',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rating\"}),/*#__PURE__*/_jsx(Slider,{range:true,defaultValue:[50,100],onChange:this.handleRatingChange})]})}),/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsxs(FormGroup,{style:{width:'20vw',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Potential\"}),/*#__PURE__*/_jsx(Slider,{range:true,defaultValue:[50,100],onChange:this.handlePotentialChange})]})}),/*#__PURE__*/_jsx(Col,{flex:2,children:/*#__PURE__*/_jsx(FormGroup,{style:{width:'10vw'},children:/*#__PURE__*/_jsx(Button,{style:{marginTop:'4vh'},onClick:this.updateSearchResults,children:\"Search\"})})})]})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'70vw',margin:'0 auto',marginTop:'2vh'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Players\"}),/*#__PURE__*/_jsx(Table,{dataSource:this.state.playersResults,columns:playerColumns,pagination:{pageSizeOptions:[5,10],defaultPageSize:5,showQuickJumper:true}})]}),/*#__PURE__*/_jsx(Divider,{}),this.state.selectedPlayerDetails?/*#__PURE__*/_jsxs(\"div\",{style:{width:'70vw',margin:'0 auto',marginTop:'2vh'},children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsx(Col,{flex:2,style:{textAlign:'left'},children:/*#__PURE__*/_jsx(\"h3\",{children:this.state.selectedPlayerDetails.Name})}),/*#__PURE__*/_jsx(Col,{flex:2,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"img\",{src:this.state.selectedPlayerDetails.Photo,referrerpolicy:\"no-referrer\",alt:\"\",style:{height:'15vh'}})})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"left\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedPlayerDetails.Club})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedPlayerDetails.JerseyNumber})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h5\",{children:this.state.selectedPlayerDetails.BestPosition})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"left\",children:[/*#__PURE__*/_jsxs(Col,{children:[\"Age: \",this.state.selectedPlayerDetails.Age]}),/*#__PURE__*/_jsxs(Col,{children:[\"Height: \",this.state.selectedPlayerDetails.Height]}),/*#__PURE__*/_jsxs(Col,{children:[\"Weight: \",this.state.selectedPlayerDetails.Weight]}),/*#__PURE__*/_jsxs(Col,{flex:2,style:{textAlign:'right'},children:[this.state.selectedPlayerDetails.Nationality,/*#__PURE__*/_jsx(\"img\",{src:this.state.selectedPlayerDetails.Flag,referrerpolicy:\"no-referrer\",alt:\"\",style:{height:'3vh',marginLeft:'1vw'}})]})]}),/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"left\",children:[/*#__PURE__*/_jsxs(Col,{children:[\"Value: \",this.state.selectedPlayerDetails.Value]}),/*#__PURE__*/_jsxs(Col,{children:[\"Release Clause: \",this.state.selectedPlayerDetails.ReleaseClause]}),/*#__PURE__*/_jsxs(Col,{children:[\"Wage: \",this.state.selectedPlayerDetails.Wage]}),/*#__PURE__*/_jsxs(Col,{children:[\"Contract Valid Until: \",this.state.selectedPlayerDetails.ContractValidUntil0]})]})]})}),/*#__PURE__*/_jsx(Card,{style:{marginTop:'2vh'},children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Row,{gutter:\"30\",align:\"middle\",justify:\"center\",children:[/*#__PURE__*/_jsxs(Col,{flex:2,style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Skill\"}),/*#__PURE__*/_jsx(Rate,{disabled:true,defaultValue:this.state.selectedPlayerDetails.Skill}),/*#__PURE__*/_jsx(\"h6\",{children:\"Reputation\"}),/*#__PURE__*/_jsx(Rate,{disabled:true,defaultValue:this.state.selectedPlayerDetails.InternationalReputation}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(\"h6\",{children:\"Best Rating\"}),/*#__PURE__*/_jsx(Progress,{style:{width:'20vw'},value:this.state.selectedPlayerDetails.BestOverallRating,children:this.state.selectedPlayerDetails.BestOverallRating}),/*#__PURE__*/_jsx(\"h6\",{children:\"Potential\"}),/*#__PURE__*/_jsx(Progress,{style:{width:'20vw'},value:this.state.selectedPlayerDetails.Potential,children:this.state.selectedPlayerDetails.Potential}),/*#__PURE__*/_jsx(\"h6\",{children:\"Rating\"}),/*#__PURE__*/_jsx(Progress,{style:{width:'20vw'},value:this.state.selectedPlayerDetails.Rating,children:this.state.selectedPlayerDetails.Rating})]}),/*#__PURE__*/_jsx(Col,{push:2,flex:2,children:this.state.selectedPlayerDetails.BestPosition==='GK'?/*#__PURE__*/_jsx(RadarChart,{data:[this.state.selectedPlayerDetails],tickFormat:function tickFormat(t){return wideFormat(t);},startingAngle:0,domains:[{name:'Penalties',domain:[0,100],getValue:function getValue(d){return d.GKPenalties;}},{name:'Diving',domain:[0,100],getValue:function getValue(d){return d.GKDiving;}},{name:'Handling',domain:[0,100],getValue:function getValue(d){return d.GKHandling;}},{name:'Kicking',domain:[0,100],getValue:function getValue(d){return d.GKKicking;}},{name:'Positioning',domain:[0,100],getValue:function getValue(d){return d.GKPositioning;}},{name:'Reflexes',domain:[0,100],getValue:function getValue(d){return d.GKReflexes;}}],width:450,height:400}):/*#__PURE__*/_jsx(RadarChart,{data:[this.state.selectedPlayerDetails],tickFormat:function tickFormat(t){return wideFormat(t);},startingAngle:0,domains:[{name:'Agility',domain:[0,100],getValue:function getValue(d){return d.NAdjustedAgility;}},{name:'Ball Control',domain:[0,100],getValue:function getValue(d){return d.NBallControl;}},{name:'Passing',domain:[0,100],getValue:function getValue(d){return d.NPassing;}},{name:'Positioning',domain:[0,100],getValue:function getValue(d){return d.NPositioning;}},{name:'Stamina',domain:[0,100],getValue:function getValue(d){return d.NStamina;}},{name:'Strength',domain:[0,100],getValue:function getValue(d){return d.NStrength;}}],width:450,height:400})})]})})})]}):null]});}}]);return PlayersPage;}(React.Component);export default PlayersPage;","map":null,"metadata":{},"sourceType":"module"}