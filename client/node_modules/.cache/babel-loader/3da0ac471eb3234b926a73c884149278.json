{"ast":null,"code":"import _classCallCheck from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/lbt12/Documents/GitHub/FIFA-Web-Application/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Table,Select}from'antd';import MenuBar from'../components/MenuBar';import{getAllMatches,getAllPlayers}from'../fetcher';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Column=Table.Column,ColumnGroup=Table.ColumnGroup;var Option=Select.Option;var playerColumns=[{title:'Name',dataIndex:'Name',key:'Name',sorter:function sorter(a,b){return a.Name.localeCompare(b.Name);},render:function render(text,row){return/*#__PURE__*/_jsx(\"a\",{href:\"/players?id=\".concat(row.PlayerId),children:text});}},{title:'Nationality',dataIndex:'Nationality',key:'Nationality',sorter:function sorter(a,b){return a.Nationality.localeCompare(b.Nationality);}},{title:'Rating',dataIndex:'Rating',key:'Rating',sorter:function sorter(a,b){return a.Rating-b.Rating;}},{title:'Potential',dataIndex:'Potential',key:'Potential',sorter:function sorter(a,b){return a.Potential-b.Potential;}},{title:'Club',dataIndex:'Club',key:'Club',sorter:function sorter(a,b){return a.Club.localeCompare(b.Club);}},{title:'Value',dataIndex:'Value',key:'Value'}];var HomePage=/*#__PURE__*/function(_React$Component){_inherits(HomePage,_React$Component);var _super=_createSuper(HomePage);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_super.call(this,props);_this.state={matchesResults:[],matchesPageNumber:1,matchesPageSize:10,playersResults:[],pagination:null};_this.leagueOnChange=_this.leagueOnChange.bind(_assertThisInitialized(_this));_this.goToMatch=_this.goToMatch.bind(_assertThisInitialized(_this));return _this;}_createClass(HomePage,[{key:\"goToMatch\",value:function goToMatch(matchId){window.location=\"/matches?id=\".concat(matchId);}},{key:\"leagueOnChange\",value:function leagueOnChange(value){var _this2=this;// calls getAllMatches in fetcher.js with the parameters page and pageSize set to null\ngetAllMatches(null,null,value).then(function(res){_this2.setState({matchesResults:res.results});});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;getAllMatches(null,null,'D1').then(function(res){_this3.setState({matchesResults:res.results});});getAllPlayers().then(function(res){console.log(res.results);_this3.setState({playersResults:res.results});});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MenuBar,{}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'70vw',margin:'0 auto',marginTop:'5vh'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Players\"}),/*#__PURE__*/_jsx(Table,{dataSource:this.state.playersResults,columns:playerColumns,pagination:{pageSizeOptions:[5,10],defaultPageSize:5,showQuickJumper:true}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'70vw',margin:'0 auto',marginTop:'2vh'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Matches\"}),/*#__PURE__*/_jsxs(Select,{defaultValue:\"D1\",style:{width:120},onChange:this.leagueOnChange,children:[/*#__PURE__*/_jsx(Option,{value:\"D1\",children:\"Bundesliga\"}),/*#__PURE__*/_jsx(Option,{value:\"SP1\",children:\"La Liga\"}),/*#__PURE__*/_jsx(Option,{value:\"F1\",children:\"Lique 1\"}),/*#__PURE__*/_jsx(Option,{value:\"I1\",children:\"Serie A\"}),/*#__PURE__*/_jsx(Option,{value:\"E0\",children:\"Premier League\"})]}),/*#__PURE__*/_jsxs(Table,{onRow:function onRow(record,rowIndex){return{onClick:function onClick(event){_this4.goToMatch(record.MatchId);}// clicking a row takes the user to a detailed view of the match in the /matches page using the MatchId parameter  \n};},dataSource:this.state.matchesResults,pagination:{pageSizeOptions:[5,10],defaultPageSize:5,showQuickJumper:true},children:[/*#__PURE__*/_jsxs(ColumnGroup,{title:\"Teams\",children:[/*#__PURE__*/_jsx(Column,{title:\"Home\",dataIndex:\"Home\",sorter:function sorter(a,b){return a.Home.localeCompare(b.Home);}},\"Home\"),/*#__PURE__*/_jsx(Column,{title:\"Away\",dataIndex:\"Away\",sorter:function sorter(a,b){return a.Away.localeCompare(b.Away);}},\"Away\")]}),/*#__PURE__*/_jsxs(ColumnGroup,{title:\"Goals\",children:[/*#__PURE__*/_jsx(Column,{title:\"Home Goals\",dataIndex:\"HomeGoals\",sorter:function sorter(a,b){return a.HomeGoals-b.HomeGoals;}},\"HomeGoals\"),/*#__PURE__*/_jsx(Column,{title:\"Away Goals\",dataIndex:\"AwayGoals\",sorter:function sorter(a,b){return a.AwayGoals-b.AwayGoals;}},\"AwayGoals\")]}),/*#__PURE__*/_jsx(Column,{title:\"Date\",dataIndex:\"Date\"},\"Date\"),/*#__PURE__*/_jsx(Column,{title:\"Time\",dataIndex:\"Time\"},\"Time\")]})]})]});}}]);return HomePage;}(React.Component);export default HomePage;","map":null,"metadata":{},"sourceType":"module"}